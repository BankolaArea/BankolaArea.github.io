<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Secure Your Future: The Land Acquisition Journey</title>
    <style>
        :root {
            --primary: #4f46e5;
            --success: #22c55e;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1e293b;
            --light: #f8fafc;
            --white: #ffffff;
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #0f172a;
            color: var(--dark);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
        }

        #app {
            width: 100%;
            max-width: 500px;
            background: var(--light);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .screen {
            flex: 1;
            display: none;
            /* flexible display toggled via JS */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
            overflow-y: auto;
            position: relative;
        }

        .screen.active {
            display: flex;
            animation: fadeIn 0.4s ease-out;
        }

        /* Elements */
        .emoji-icon {
            font-size: 5rem;
            margin: 20px;
            display: inline-block;
        }

        h1 {
            font-size: 1.8rem;
            color: var(--primary);
            margin: 0.5rem 0;
        }

        h2 {
            font-size: 1.4rem;
            color: var(--dark);
            margin: 0.5rem 0;
        }

        p {
            font-size: 1.1rem;
            color: #475569;
            line-height: 1.5;
            margin: 10px 0 20px 0;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 18px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            width: 90%;
            margin: 10px 0;
            box-shadow: 0 4px 0 #3730a3;
            /* pressed effect style */
            transition: transform 0.1s;
        }

        .btn:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #3730a3;
        }

        .btn-green {
            background: var(--success);
            box-shadow: 0 4px 0 #15803d;
        }

        .btn-green:active {
            box-shadow: 0 0 0 #15803d;
        }

        .btn-red {
            background: var(--danger);
            box-shadow: 0 4px 0 #b91c1c;
        }

        .btn-red:active {
            box-shadow: 0 0 0 #b91c1c;
        }

        /* Level 1: Map */
        .map-container {
            width: 250px;
            height: 250px;
            background: #cbd5e1;
            border: 4px solid #334155;
            border-radius: 10px;
            position: relative;
            margin: 20px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .map-blur {
            filter: blur(8px);
            transition: filter 1s;
        }

        .map-sharp {
            filter: blur(0);
        }

        .map-obj {
            font-size: 2rem;
            position: absolute;
            transition: opacity 0.5s;
            opacity: 0;
        }

        .padlock {
            font-size: 1.5rem;
            position: absolute;
            top: -10px;
            right: -10px;
            opacity: 0;
            transition: opacity 0.5s 1s;
        }

        /* delayed */

        /* Level 2: Docs */
        .doc-area {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        .doc-card {
            border: 2px solid #94a3b8;
            padding: 15px;
            border-radius: 8px;
            background: white;
            width: 140px;
            position: relative;
        }

        .doc-card.correct {
            border-color: var(--success);
            background: #dcfce7;
        }

        .doc-card.wrong {
            border-color: var(--danger);
            background: #fee2e2;
        }

        /* Level 3: Calendar */
        .calendar-box {
            font-size: 4rem;
            border: 3px solid var(--dark);
            border-radius: 15px;
            padding: 20px;
            margin: 20px;
            background: white;
            position: relative;
        }

        .shield-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 5rem;
            opacity: 0.8;
            transition: transform 0.5s;
        }

        /* Modal */
        #modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            animation: popUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .lesson-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        /* Animations */
        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            20%,
            60% {
                transform: translateX(-10px);
            }

            40%,
            80% {
                transform: translateX(10px);
            }
        }

        .shake-anim {
            animation: shake 0.5s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes popUp {
            from {
                transform: scale(0.5);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <div id="app">
        <header>Start -> Survey -> Mutation -> Notice -> Job</header>

        <!-- INTRO -->
        <div id="screen-intro" class="screen active">
            <h1>Why the Wait?</h1>
            <div class="emoji-icon">üë®‚Äçüåæüè°</div>
            <h2>Secure Your Future</h2>
            <p>They say "Time is Money". Here, "Time is Safety".<br>Learn how the delays protect YOU.</p>
            <button class="btn btn-green" onclick="game.start()">Start the Process</button>
        </div>

        <!-- LEVEL 1: DRONE -->
        <div id="screen-l1" class="screen">
            <h2>Level 1: Eye in the Sky</h2>
            <p>Is your property record accurate?</p>

            <div class="map-container" id="l1-map">
                <div style="font-size:5rem; opacity:0.3; filter:blur(5px);" id="l1-blur-layer">üó∫Ô∏è</div>
                <!-- Hidden objects -->
                <div class="map-obj" style="top:40px; left:40px;">üè†<span class="padlock">üîí</span></div>
                <div class="map-obj" style="bottom:40px; right:40px;">üå≥<span class="padlock">üîí</span></div>
                <div class="map-obj" style="top:40px; right:50px;">üõñ<span class="padlock">üîí</span></div>
            </div>

            <button class="btn" onclick="level1.launchDrone()">üöÄ Launch Drone (15 Days)</button>
        </div>

        <!-- LEVEL 2: MUTATION -->
        <div id="screen-l2" class="screen">
            <h2>Level 2: Mission Sanjivani</h2>
            <p>We pay based on the Government Record (RoR).</p>

            <div class="doc-area">
                <div class="doc-card">
                    <strong>Your Deed</strong><br>
                    <div style="font-size:2rem;">üìú</div>
                    <span style="color:blue; font-weight:bold;">5 Acres</span>
                </div>
                <div class="doc-card" id="l2-ror">
                    <strong>RoR Record</strong><br>
                    <div style="font-size:2rem;">üèõÔ∏è</div>
                    <span id="l2-ror-text" style="color:red; font-weight:bold;">3 Acres</span>
                </div>
            </div>

            <button class="btn btn-warning" onclick="level2.tryClaim()">üí∞ Claim Money Now</button>
            <button class="btn btn-green" onclick="level2.mutate()">üñäÔ∏è Apply Mutation (Fix Record)</button>
        </div>

        <!-- LEVEL 3: PUBLIC SHIELD -->
        <div id="screen-l3" class="screen">
            <h2>Level 3: The Public Shield</h2>
            <p>A website notice takes 21 days. It feels slow.</p>

            <div class="calendar-box">
                üìÖ
                <div id="l3-shield" class="shield-overlay">üõ°Ô∏è</div>
            </div>
            <div id="l3-anim-area" style="font-size:2rem; height:50px;"></div>

            <button class="btn btn-red" onclick="level3.fastForward()">‚è© Fast Forward (Skip)</button>
            <button class="btn btn-green" onclick="level3.wait()">‚è≥ Wait 21 Days (Be Safe)</button>
        </div>



        <!-- CONCLUSION -->
        <div id="screen-end" class="screen">
            <div class="emoji-icon">üéâüíºüí∞</div>
            <h1>Congratulations!</h1>
            <p>By following the SOP, you ensured:</p>
            <ul style="text-align:left; color:#334155; margin-bottom:30px;">
                <li>‚úÖ Assets Frozen & Secured</li>
                <li>‚úÖ Full Payment via Mutation</li>
                <li>‚úÖ Legal Immunity via Publication</li>
                <li>‚úÖ Job Secured from Imposters</li>
            </ul>
            <button class="btn" onclick="location.reload()">üîÑ Play Again</button>
        </div>

    </div>

    <!-- MODAL -->
    <div id="modal-overlay">
        <div class="modal-content">
            <div class="lesson-icon" id="modal-icon">üí°</div>
            <h2 id="modal-title">Learning Moment</h2>
            <p id="modal-text">Content goes here...</p>
            <button class="btn" onclick="modal.close()">Got it!</button>
        </div>
    </div>

    <script>
        // --- AUDIO SYSTEM ---
        const speak = (text) => {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 1.1;
            utterance.pitch = 1;
            window.speechSynthesis.speak(utterance);
        };

        // --- GAME STATE ---
        const game = {
            screen: 'intro',
            start: () => switchScreen('screen-l1'),
            next: (currentId, nextId) => switchScreen(nextId)
        };

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // --- MODAL SYSTEM ---
        const modal = {
            show: (title, text, icon, callback) => {
                document.getElementById('modal-title').innerText = title;
                document.getElementById('modal-text').innerText = text;
                if (icon) document.getElementById('modal-icon').innerText = icon;

                document.getElementById('modal-overlay').style.display = 'flex';
                speak(text); // AUTO AUDIO

                modal.callback = callback;
            },
            close: () => {
                window.speechSynthesis.cancel();
                document.getElementById('modal-overlay').style.display = 'none';
                if (modal.callback) modal.callback();
            }
        };

        // --- LEVEL 1: DRONE ---
        const level1 = {
            launchDrone: () => {
                const map = document.getElementById('l1-map');
                const blur = document.getElementById('l1-blur-layer');
                const objs = document.querySelectorAll('.map-obj');
                const locks = document.querySelectorAll('.padlock');

                // Anim
                blur.style.opacity = '0';
                map.style.background = '#86efac'; // clearer green
                objs.forEach(o => o.style.opacity = '1');

                setTimeout(() => {
                    locks.forEach(l => l.style.opacity = '1');
                    setTimeout(() => {
                        modal.show(
                            "Assets Locked!",
                            "We use Drones and Satellites within 15 days. Why? To freeze the image of your assets. Now, no outsider can build a fake hut overnight to steal your compensation. Your assets are locked and safe.",
                            "üõ∞Ô∏èüîí",
                            () => game.next('screen-l1', 'screen-l2')
                        );
                    }, 1000);
                }, 1000);
            }
        };

        // --- LEVEL 2: MUTATION ---
        const level2 = {
            tryClaim: () => {
                const btn = document.querySelector('#screen-l2 .btn-warning');
                btn.classList.add('shake-anim');
                setTimeout(() => btn.classList.remove('shake-anim'), 500);

                modal.show(
                    "Mismatch Error!",
                    "Stop! The Government Record (RoR) shows less land than your Deed. If we pay now, you lose money. You must fix the record first.",
                    "‚ö†Ô∏è",
                    null // stay on level
                );
            },
            mutate: () => {
                document.getElementById('l2-ror-text').innerText = "5 Acres";
                document.getElementById('l2-ror-text').style.color = "green";
                document.getElementById('l2-ror').classList.add('correct');

                setTimeout(() => {
                    modal.show(
                        "Mission Sanjivani Success!",
                        "We follow 'Mission Sanjivani'. We can only pay for what is recorded in the RoR. Mutation fixes the record so you get 100% of your money, not just a part of it.",
                        "‚úÖüìù",
                        () => game.next('screen-l2', 'screen-l3')
                    );
                }, 800);
            }
        };

        // --- LEVEL 3: PUBLIC NOTICE ---
        const level3 = {
            fastForward: () => {
                const btn = document.querySelector('#screen-l3 .btn-red');
                btn.classList.add('shake-anim');
                setTimeout(() => btn.classList.remove('shake-anim'), 500);

                modal.show(
                    "RISK ALERT!",
                    "You rushed the process! A jealous neighbor appeared and filed a lawsuit because they didn't get a chance to speak. Now everything is stuck in court.",
                    "‚öñÔ∏èüö´",
                    null
                );
            },
            wait: () => {
                // Animation of Drum beat
                const anim = document.getElementById('l3-anim-area');
                anim.innerHTML = "ü•Å üì¢ ü•Å üì¢";

                setTimeout(() => {
                    document.getElementById('l3-shield').style.transform = "translate(-50%, -50%) scale(1)";
                    setTimeout(() => {
                        modal.show(
                            "Legal Shield Activated",
                            "We publish the list for 21 days and announce it by beat of drum. This is your shield. If your jealous neighbor doesn't complain now, they can never complain later. This wait makes your claim legally bulletproof.",
                            "üõ°Ô∏è",
                            () => game.next('screen-l3', 'screen-end')
                        );
                    }, 1000);
                }, 1000);
            }
        };



    </script>
</body>

</html>